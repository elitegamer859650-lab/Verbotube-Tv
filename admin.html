<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VerboTube Admin</title>
    <style>
        body { font-family: sans-serif; background: #111; color: #fff; display: flex; justify-content: center; align-items: center; height: 100vh; margin:0; }
        .card { background: #222; padding: 30px; border-radius: 15px; width: 350px; border: 1px solid #333; text-align: center; }
        input, select, button { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: none; box-sizing: border-box; }
        input { background: #000; color: #0f0; border: 1px solid #444; }
        button { background: #ff0000; color: #fff; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
    <div class="card">
        <h2>TV CONTROL ROOM</h2>
        <input type="text" id="ytUrl" placeholder="YouTube URL or ID">
        <select id="vType">
            <option value="drama">Drama (With Bumper)</option>
            <option value="ad">Direct (No Bumper)</option>
        </select>
        <button onclick="send()">PUSH TO TV ðŸš€</button>
        <p id="status"></p>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        firebase.initializeApp({
            databaseURL: "https://heroflix-d64ac-default-rtdb.firebaseio.com"
        });
        const db = firebase.database().ref("live_status");

        function send() {
            let val = document.getElementById('ytUrl').value;
            let type = document.getElementById('vType').value;
            let id = val.includes('v=') ? val.split('v=')[1].split('&')[0] : val;

            db.set({ url: id, type: type, time: Date.now() }).then(() => {
                document.getElementById('status').innerText = "Updated Successfully!";
                setTimeout(() => document.getElementById('status').innerText = "", 2000);
            });
        }
    </script>
</body>
</html>
